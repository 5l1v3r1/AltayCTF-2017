# Название
#### Тестовые опции
# Стоимость
#### 360
# Категория
#### Web
# Решение
Итак, как и сказано в описании, дан написанный на коленке сервис, который выставляет загруженные на него картинки. Почему-то стоит жесткая привязка к формату - png, а в контактах имя модератора, админа и пасхалка на автора (в очередной раз).
Первое, на что падает взгляд, это отсутствие куки и robots.txt, в котором прописано обращение модератора к забывчивому админу, суть которого "смотри условленным способом на почте".
>Алст1

Видимо, это нам чем-то поможет.

Логично предположить, что заливка идет в БД под управляем MySQL и потом оттуда берется информация... Впрочем, о какой логичности мы говорим, картинки и сообщение просто заливаются в папки на сервере, а потом оттуда считываются и вписываются в код страницы. Потому что.

Что ж, раз это так, то мы имеем хорошую возможность для заливки какого-нибудь собственного кода. И первое, на что мы натыкаемся - это то, что залиться то не так просто. 
Сервис реально не пускает картинки, кроме как .png, выкидывая оповещение. Чтож, притворимся, что мы картинка и зальем файл 1.png.php с содержанием:
```    
<?php echo 'hi!'?>
```

Результат следующий:
> Алст2

Что ж, фильтр тут все таки стоит. Экспериментальным путем можно выяснить, что пропускается только файлы, в которых есть .png, размером не больше 20байт, но протолкнуть любой код не выходит. 
Кстати, а что там с почтой админа? Где мы можем ее узнать? Точно, phpinfo(). Попробуем завести файл service.png.php с содержанием:
```    
<?php phpinfo()?>
```

Что-то изменилось, страница приостановилась в загрузке, а через 10 секунд загрузилась с сообщением:
    "Быстрее, Джон! service"
А что, если это какая-то не прикрытая опция? Попробуем еще раз и в момент заливки отследим в корне файл service.php

>Алст3

И, о чудо, есть брешь! В Server Administrator мы видим очередной файл и , очевидно, логин и пароль к нему. Идем на страницу database.php и видим там самописную СУБД. Вводим имеющиеся данные и попадаем в базу данных. 

>Алст4

Здесь видно содержимое имеющихся страниц, а так же шаблоны шапки и подвала...А нет, еще есть странная тестовая запись с каким-то файлом и надписью. Что ж, попробуем перейти в этот файл.
На этой странице задается вопрос: "Кто Вы?". Разумеется, отвечаем фразой из БД - "Я Джон Смит"

>Алст5

Какой-то кусок кода из страницы и фраза о том, что сюда подключены они все... Однако, это и есть решение - открываем код страницы и листаем до конца. Там мы видим:
```
echo $head.$cont.$foot;
?><?php
$flag="Altay{you_hate_me_and_you_are_right}";
?>
```
Эврика, мы распутали этот таинственный клубок, запомнили, что всегда надо стирать все тестовое и вспомогательное перед релизом... и что не надо писать на коленке.
Флаг очень красноречив.
### Флаг:
>Altay{you_hate_me_and_you_are_right}