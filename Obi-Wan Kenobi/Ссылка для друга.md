# Название
#### Ссылка для друга
# Стоимость
#### 270
# Категория
#### Stego,Misc 
# Решение
На старте даны две ссылки: Первая - картинка 1.png, несущая мало полезной информации, вторая - 2.rar, архив, в котором лежат еще два файла.
После беглого осмотра картинки, становится понятно, что она здесь только для антуража, идем в архив и выясняем, что первый файл в нем - такая же картинка, а второй - архив с таким же названием. То есть, визуально, перед нами архив с теми же файлами. Но это не так.
Продолжая раскрывать матрешку из архивов, мы обнаружим два файла уже без расширений. Однако, первый весит слишком много для картинки, а второй слишком мало для архива (см. картинку).

![image](https://github.com/SharLike-CTF-Team/AltayCTF-2017/blob/master/Obi-Wan%20Kenobi/Друг1.PNG)

После недолгих манипуляций, можно догадаться, что 1 - это видео. На нем знаменитая сцена из фильма "Криминальное чтиво", в которой на короткое время показывается скрин файла с заменами, они пригодятся нам позже:

![image](https://github.com/SharLike-CTF-Team/AltayCTF-2017/blob/master/Obi-Wan%20Kenobi/Друг2.PNG)

Открываем второй файл любым текстовым редактором и видим там кучку зашифрованного кода, похожего на base64. Однако, все не так просто, base64decode сразу не даст нам ничего. Но, если сначала сделать ROT-13, а после base64, то мы получим обфусцированный код:

![image](https://github.com/SharLike-CTF-Team/AltayCTF-2017/blob/master/Obi-Wan%20Kenobi/Друг3.PNG)

Деобфусцируем его любым удобным способом и получаем странную html-страничку. Вот тут то и нужно использовать скрин, отловленный в видео. Выполняем все замены и получаем php-код, который декодирует строку.

![image](https://github.com/SharLike-CTF-Team/AltayCTF-2017/blob/master/Obi-Wan%20Kenobi/Друг4.PNG)

Выполним его локально, либо с помощью онлайн-сервисов и получим кодовую фразу

![image](https://github.com/SharLike-CTF-Team/AltayCTF-2017/blob/master/Obi-Wan%20Kenobi/Друг5.PNG)

Обрамляем в формат флага, сдаем и отправляемся писать автору в личку все, что о нем думаем;)
### Флаг:
>Altay{da_prebudet_s_toboy_sila}
